#!/bin/sh

dte() {
    dte="$($HOME/bin/status/datetime)"
    echo -e "$dte"
}

hdd() {
    hdd="$($HOME/bin/status/filesystem)"
    echo -e "$hdd"
}

mem() {
    mem="$($HOME/bin/status/memory)"
    echo -e "$mem"
}

cputemp() {
    cputemp="$($HOME/bin/status/cpu-temp)"
    echo -e "\x03$cputemp"
}

vol() {
	vol="$($HOME/bin/status/volume)"
	echo -e "$vol"
}

batcap() {
	battery="$($HOME/bin/status/bat-capacity)"
	echo -e "$battery"
}

batstat() {
	batstat="$($HOME/bin/status/bat-state)"
	echo -e "$batstat"
}

wlan() {
    wlan="$($HOME/bin/status/network-wlan-tfc)"
    echo -e "$wlan"
}

user() {
    user="$($HOME/bin/status/user)"
    echo -e "$user"
}

vpn() {
    vpn="$($HOME/bin/status/vpn)"
    echo -e "$vpn"
}

tor() {
    tor="$($HOME/bin/status/tor)"
    echo -e "$tor"
}

record() {
    record="$($HOME/bin/status/record)"
    echo -e "$record"
}

mailbox() {
    mailbox="$($HOME/bin/status/mailbox)"
    echo -e "$mailbox"
}

keymon() {
    keymon="$($HOME/bin/status/key-mon)"
    echo -e "$keymon"
}

misc() {
    misc="$($HOME/bin/status/misc)"
    echo -e "$misc"
}

status() {
    echo -e "$(record)$(tor)$(vpn)$(misc)$(keymon)$(wlan) $(cputemp) $(mem) $(hdd) $(vol) $(mailbox) $(dte) $(batstat) $(batcap) $(user)"
}

while true; do
	xsetroot -name "$(status)"
	sleep 0.1
done
